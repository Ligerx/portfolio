<template name="projectSection" args="section">
  {{#with section}}

    <h2 class="ui header">{{title}}</h2>

    {{#if isFullWidth}}
      {{> fullWidth}}
    {{else}}
      {{> halfWidth}}
    {{/if}}

    {{{arbitraryHtml}}}

  {{/with}}
</template>


<template name="fullWidth">
  <div class="column">
    {{> imageTemplate}}
  </div>

  <div>
    {{{description}}}
  </div>
</template>


<template name="halfWidth">
  <div class="ui stackable two column grid">
    <div class="column">
      {{{description}}}
    </div>

    <div class="column">
      {{> imageTemplate}}
    </div>
  </div>
</template>


<template name="imageTemplate">
  <div class="imageTemplate">
    {{#if noImages images}}
      {{!-- blank --}}

    {{else}}
      {{#if onlyOneImage images}}

        {{!-- no clean way to get the index, so just iterate --}}
        {{#each imageObj in images}}
          <div>
            <a class="fancybox" data-fancybox-group="single" href="{{imageObj.image.url}}">
              <img src="{{imageObj.image.url}}" alt="{{imageObj.alt}}" class="ui centered image">
            </a>
          </div>
        {{/each}}

      {{else}}
        {{> imageGallery}}
      {{/if}}

    {{/if}}
  </div>
</template>

<template name="imageGallery">
  <div class="owl-carousel">
    {{#each imageObj in images}}
      <div>
        <a class="fancybox" data-fancybox-group="gallery" href="{{imageObj.image.url}}">
          <img src="{{imageObj.image.url}}" alt="{{imageObj.alt}}" class="ui centered image">
        </a>
      </div>
    {{/each}}
  </div>
</template>
